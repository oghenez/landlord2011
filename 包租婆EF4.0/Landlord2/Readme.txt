1、针对合约期，可以设定提醒日期（例如到期前多少天），系统默认到期前15天开始提示！ 

2、源房租金明细表中‘实付金额’和‘付款日期’为空的表示还未到期的。

3、卫生费要么包含进物业费，要么水费代扣。只留一个选项‘是否水务代扣卫生费’（如果是的话，系统会计算每月水费+卫生费的）。
   不单独把卫生费作为一个收缴费项目

4、数据库中水电的存储使用的是阶梯计价（武汉市06年5.1实施阶梯水价<每户不同人口数核价不同>，11年内可能实施阶梯电价）。
   阶梯存储使用字符串，格式说明如下：“1.9,0,25;2.45,25,33;3,33" 表示：1.9元/吨，0~25吨（含）；2.45元/吨，25~33吨（含）；3元/吨，33吨以上。
   水电气小数位数：水电（取整），气（1位小数）

5、客房表存储的是当前租户相关信息，一般协议期内不可能涨租的，[退租]和[续租]后当前租户相关租房信息转到‘客房出租历史记录’表里，
   供日后查阅、数据分析用。当退租、续租操作时会触发此动作，一般季度缴费不会触发。
   [客房出租历史记录]表里‘状态’字段--指：哪种状态下，转入历史记录的。分为：“续租”、“正常退租”、“提前退租”、“逾期退租”。
   注意：客房在正常状态下，【续租】必须要求租户协议期内租金已全部收讫（即【客房租金明细】里最大到期时间应该=协议期止时间），
		此时续租后，当前租户相关租房信息才能转到‘客房出租历史记录’表里。

5.1、退租时的结算操作：
   系统根据客房是否正常协议到期判断‘正常退租、提前退租、逾期退租’，也允许用户修改，不过系统会给出善意提示。
   ****提前退租，和逾期退租，计算时需要考虑提前或逾期时间的相应费用。***
   需查询的表==>[客房]、[客房出租历史记录]、[客房租金明细]3个表。
   1.首先查询出改租户所有相关交租明细。(包括之前的续租协议期内的)
   2.计算应缴房租、水电气（需要填入当前止码）、物业宽带厨房费、总计往期应付和实付差额。-->最后和押金相减，得最终结果。
   3.结清后（此退租行为可视为一种特殊的收租操作），客房租金明细表需插入记录、出租历史记录表需插入记录并制定状态为‘正常退租、提前退租、逾期退租’之一。
   4.客房删除租户等相关信息，转为‘未出租’状态，等待下次新出租。

5.2、退租操作同样会新增一条【客房租金明细】记录，起付日期和止付日期根据不同情况而定：
   1、正常退租情况下租户已缴纳本期租金物业等，退租操作则主要是针对水电气的收缴和押金的退付，此时新增的客房租金明细的起付日期=止付日期=结算日期；
   2、提前退租情况下租户已缴纳本期租金物业等，更改最后一条租金明细记录的止付日期=结算日期，实收金额=原实收金额-应退金额。
   3、其他情况下，起付日期与上次租金明细的止付日期连续，止付日期=结算日期。

6、系统启动后，开始数据检测，必须检测：源房是否到期、客房是否到期[必须保证只要有租户字段，那么客房就处于在租状态]、是否需要提醒等。。。

7、注意‘客房租金明细’里，有应付和实付金额，对于多退少补的情况应该进行数据检测并提示。

8、客房状态（除开历史客房）：
   1.未租
   2.已租--
     2.1协议到期（续租或退租）--此时退租（正常退租、逾期退租）
	 2.2协议未到期逾期交租（收租或退租）--此时退租（提前退租）
	 2.3协议到期并且逾期交租 （必须先续租再收租，或直接退租）--此时退租（逾期退租）
	 2.4正常状态

9、客房收租明细里  -- 修改时只能修改“付款日期、实付金额、付款人、收款人、备注”，其他信息不可更改。
			     -- 删除时只能针对当前租户，删除某条记录，则该记录起的后续记录都将被删除！
				 [以上限制，日后有空时慢慢调整，让客户使用更加方便。]

**********待解决问题：
    ■ 水表电表坏了，中途换个怎么办？

$$$$$$$$$$待完成的检测：
	■ 续租时，续租协议的水电气始码，应该和之前的止码连续
	■ 理论上，水电气的始码定下来后不可随意更改。(该租户无交租记录时应该可以更改，其他情况不能改？) 
	■ 特别注意： 如果水电气始码更改‘小’了的话会出现错误。例如：收租界面里用的max函数，水始码Label1.Text = kf.客房租金明细.Max(m => m.水止码);
	■ 注意“到期提醒”，“收租提醒”。（当协议的期止并非刚好间隔支付月数时）
----------------------------------------------------------
源房租下后，首期费用如下（假设半年一付）：
■ 押金
■ 半年房租
■ 物业（有可能房东已缴物业费还剩几个月，我们会补足给他，下次物业到期后一次性交纳1年的）
■ 水、电结清
■ 气（按照剩余字数付给房东）
■ 中介费

下次付款期付费如下（提前15天提醒）：
■ 半年房租

期间其他提醒如下：
■ 物业（如上述预缴方式，到了下次物业预缴期提前15天提醒）
■ 水电（水电采用预付费方式，一次性预缴一定金额，系统根据‘客房’水电使用平均情况，会提前15天提醒充值）
■ 宽带（同物业处理方式）
----------------------------------------------------------
客房出租后，首期费用如下（假设3月一付）：
■ 押金
■ 3月房租
■ 3月物业
■ 中介费
■ 3月厨房使用费（需用气的客户，按照剩余字数付款给我）
■ 3月宽带费

下次付款期付款如下：（提前15天提醒）
■ 下3月房租
■ 下3月物业
■ 下3月厨房使用费
■ 3月宽带费

期间其他提醒如下：
■ （需用气的客户，交钱给我预购相应字数）




============================================================
投资报表分2大部分
年度收支统计表图、日常收支表 、资金流量表、两段时间收支对比报表和图、月平均收支报表图五大明细报表。
参考： http://www.icbc.com.cn/icbc/html/download/gerenlica/jzb.htm （还有提醒可以考虑日志日历形式）







===================================================
1、【正常退租】：协议正常到期，且协议期内租金已全部收讫。
2、【提前退租】：协议未到期。
3、【逾期退租】：协议已到期而未续租。
4、【正常退租】仅结算水电气、押金、历史余额；【提前退租】和【逾期退租】还会计算提前或逾期时间的相应费用。


正常退租：
退租日期结算至XX年XX月XX日（结算日期等于协议期止日期，属于【正常退租】）
支付期：①XX年XX月XX日～XX年XX月XX日
        ②协议期内租金已全部收讫

提前退租：
退租日期结算至XX年XX月XX日（结算日期小于协议期止日期，属于【提前退租】）
支付期：①XX年XX月XX日～XX年XX月XX日（不足月天数XX天，按“天/月”收取）
        ②当期租金已收讫


